{"version":3,"sources":["services/helper.js","App.js","index.js"],"names":["baseUrl","getAll","axios","get","then","response","data","remove","person","a","baseUrl2","name","delete","good","create","newPerson","post","change","newNumber","res","patch","console","log","App","useState","persons","setPersons","newName","setNewName","setNewNumber","newSearch","setNewSearch","useEffect","helper","initialPerson","onSubmit","event","preventDefault","some","window","confirm","find","number","concat","value","onChange","target","type","slice","filter","item","length","toLowerCase","map","onClick","goodPersons","buttonHandler","rootElement","document","getElementById","ReactDOM","render"],"mappings":"qNACMA,EAAU,eAEVC,EAAS,WAEX,OADgBC,IAAMC,IAAIH,GACXI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQvCC,EAAM,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,6DACLC,EAAWV,EAAO,WAAOQ,EAAOG,MAD3B,SAEWT,IAAMU,OAAOF,GAFxB,8BAGQT,IAHR,cAGLY,EAHK,yBAIRA,GAJQ,2CAAH,sDAgBG,GACXZ,SACAa,OAxBW,SAAAC,GAEX,OADgBb,IAAMc,KAAKhB,EAASe,GACrBX,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAuBzCC,SACAU,OAbW,SAACT,EAAQU,GACpB,IAAMR,EAAWV,EAAO,WAAOQ,EAAOG,MAChCQ,EAAMjB,IAAMkB,MAAMV,EAAU,CAAC,OAAUQ,IAE7C,OADAG,QAAQC,IAAI,qCACLH,EAAIf,MAAK,SAAAC,GACb,OAAOA,EAASC,U,OC8ERiB,EAjGH,WACV,MAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACF,EAA8BF,mBAAS,IAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAkCJ,mBAAS,IAA3C,mBAAON,EAAP,KAAkBW,EAAlB,KACA,EAAkCL,mBAAS,IAA3C,mBAAOM,EAAP,KAAkBC,EAAlB,KAQEC,qBANa,WAEXC,EAAOhC,SAASG,MAAK,SAAC8B,GACpBR,EAAWQ,QAGC,IA+ChB,OACE,gCACE,2CACA,2CACA,uBAAMC,SA3BM,SAACC,GAGf,GAFAA,EAAMC,iBAEFZ,EAAQa,MAAK,SAAC9B,GAAD,OAAYA,EAAOG,OAASgB,KACxCY,OAAOC,QAAP,UAAkBb,EAAlB,0EACDM,EAAOhB,OAAOQ,EAAQgB,MAAK,SAAAjC,GAAM,OAAIA,EAAOG,OAASgB,KAAUT,GAAWd,MAAK,WAC7E6B,EAAOhC,SAASG,MAAK,SAAC8B,GACpBR,EAAWQ,aAKb,CACJ,IAAMnB,EAAY,CAChBJ,KAAMgB,EACNe,OAAQxB,GAEVe,EAAOnB,OAAOC,GAAWX,MAAK,WAC5BsB,EAAWD,EAAQkB,OAAO5B,SAS5B,UACE,oDAEE,uBAAO6B,MAAOd,EAAWe,SAjCT,SAACT,GACvBL,EAAaK,EAAMU,OAAOF,aAkCtB,yCACQ,uBAAOA,MAAOjB,EAASkB,SA3ClB,SAACT,GAClBR,EAAWQ,EAAMU,OAAOF,aA4CpB,2CACU,uBAAOA,MAAO1B,EAAW2B,SA1CpB,SAACT,GACpBP,EAAaO,EAAMU,OAAOF,aA4CtB,8BACE,wBAAQG,KAAK,SAAb,sBAGJ,yCACCtB,EAAQuB,QAAQC,QAAO,SAAAC,GACtB,OAAOA,EAAKvC,KAAKqC,MAAM,EAAElB,EAAUqB,QAAQC,gBAAkBtB,EAAUsB,iBACtEC,KAAI,SAAC7C,GACN,OACE,8BACE,+BACG,IACAA,EAAOG,KAFV,IAEiBH,EAAOkC,OACtB,wBAAQY,QAAU,kBA1ER,SAAC9C,GACrBa,QAAQC,IAAId,GACG+B,OAAOC,QAAQ,0BAE5BP,EAAO1B,OAAOC,GAAQJ,MAAK,SAAAmD,GACzBlC,QAAQC,IAAIiC,GACZ7B,EAAW6B,MAoEmBC,CAAchD,IAAtC,iCC1FRiD,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OAAO,cAAC,EAAD,IAASJ,K","file":"static/js/main.bdc4d5d6.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () =>{\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\nconst create = newPerson => {\n    const request = axios.post(baseUrl, newPerson)\n    return request.then(response => response.data)\n}\n\n\nconst remove = async (person) => {\n    const baseUrl2 = baseUrl + `/${person.name}`;\n    const request = await axios.delete(baseUrl2)\n    const good = await getAll();\nreturn good;\n}\n\nconst change = (person, newNumber) => {\n    const baseUrl2 = baseUrl + `/${person.name}`;\n    const res = axios.patch(baseUrl2, {\"number\": newNumber} )\n    console.log(\"in the changing repsonse function\")\n    return res.then(response => {\n       return response.data;\n    });\n}\n\nexport default {\n    getAll,\n    create,\n    remove,\n    change\n}","import React, { useEffect, useState } from \"react\";\nimport helper from \"./services/helper\"\n\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\nconst [newName, setNewName] = useState(\"\");\nconst [newNumber, setNewNumber] = useState(\"\");\nconst [newSearch, setNewSearch] = useState(\"\");\n\n  const hook = () => {\n\n    helper.getAll().then((initialPerson)=>{\n      setPersons(initialPerson);\n    });\n  };\n  useEffect(hook, []);\n\n  const buttonHandler = (person) =>{\n    console.log(person);\n    const result = window.confirm(\"Do you wish to delete\");\n    if (result){\n      helper.remove(person).then(goodPersons => {\n        console.log(goodPersons);\n        setPersons(goodPersons);\n      })\n\n    }\n\n  }\n  const handleName = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumber = (event) => {\n    setNewNumber(event.target.value);\n  };\n  const handleNewSearch = (event) => {\n    setNewSearch(event.target.value)\n  };\n  const addName = (event) => {\n    event.preventDefault();\n\n    if (persons.some((person) => person.name === newName)) {\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with new one?`))\n        helper.change(persons.find(person => person.name === newName), newNumber).then(() => {\n          helper.getAll().then((initialPerson)=>{\n            setPersons(initialPerson);\n          });\n        });\n\n      }\n     else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n      helper.create(newPerson).then(() =>{\n        setPersons(persons.concat(newPerson))\n      })\n      \n    }\n  };\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <h2>add a new</h2>\n      <form onSubmit={addName}>\n        <div>\n          filter shown with\n          <input value={newSearch} onChange={handleNewSearch} />\n        </div>\n        <div>\n          name: <input value={newName} onChange={handleName} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumber} />\n        </div>\n\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      {persons.slice().filter(item => {\n        return item.name.slice(0,newSearch.length).toLowerCase() === newSearch.toLowerCase()\n      }).map((person) => {\n        return (\n          <div>\n            <p1>\n              {\" \"}\n              {person.name} {person.number}\n              <button onClick= {() => buttonHandler(person)}> remove</button>\n            </p1>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}