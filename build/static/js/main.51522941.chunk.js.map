{"version":3,"sources":["services/helper.js","App.js","index.js"],"names":["baseUrl","getAll","axios","get","then","response","data","newPerson","post","id","allPerson","baseUrl2","delete","newNumber","patch","console","log","App","useState","persons","setPersons","newName","setNewName","setNewNumber","newSearch","setNewSearch","useEffect","helper","initialPerson","onSubmit","event","preventDefault","some","person","name","window","confirm","find","number","Math","floor","random","toString","substring","concat","value","onChange","target","type","slice","filter","item","length","toLowerCase","map","onClick","goodPersons","buttonHandler","rootElement","document","getElementById","ReactDOM","render"],"mappings":"6LACMA,EAAU,eAEVC,EAAS,WAEX,OADgBC,IAAMC,IAAIH,GACXI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAuB9B,EACXL,EADW,EArBA,SAAAM,GAEX,OADgBL,IAAMM,KAAKR,EAASO,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAmB9B,EAfA,SAACG,EAAIC,GAChB,IAAMC,EAAWX,EAAO,WAAOS,GACfP,IAAMU,OAAOD,GAEjC,OADiBV,KAYF,EARA,SAACQ,EAAII,GAChB,IAAMF,EAAWX,EAAO,WAAOS,GACnBP,IAAMY,MAAMH,EAAU,CAAC,OAAUE,IACzCT,MAAK,SAAAC,GACLU,QAAQC,IAAIX,O,OC0ELY,EA5FH,WACV,MAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACF,EAA8BF,mBAAS,IAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAkCJ,mBAAS,IAA3C,mBAAOL,EAAP,KAAkBU,EAAlB,KACA,EAAkCL,mBAAS,IAA3C,mBAAOM,EAAP,KAAkBC,EAAlB,KAQEC,qBANa,WAEXC,IAAgBvB,MAAK,SAACwB,GACpBR,EAAWQ,QAGC,IA0ChB,OACE,gCACE,2CACA,2CACA,uBAAMC,SAxBM,SAACC,GAEf,GADAA,EAAMC,iBACFZ,EAAQa,MAAK,SAACC,GAAD,OAAYA,EAAOC,OAASb,MAAYc,OAAOC,QAAP,UAAkBf,EAAlB,yEACrDM,EAAcR,EAAQkB,MAAK,SAAAJ,GAAM,OAAIA,IAAWZ,KAASZ,GAAII,GAC7DE,QAAQC,IAAI,eAEV,CACJ,IAAMT,EAAY,CAChB2B,KAAMb,EACNiB,OAAQzB,EACRJ,GAAK8B,KAAKC,MAA4B,OAArB,EAAID,KAAKE,WACzBC,SAAS,IACTC,UAAU,IAEbhB,EAAcpB,GAAWH,MAAK,WAC5BgB,EAAWD,EAAQyB,OAAOrC,SAS5B,UACE,oDAEE,uBAAOsC,MAAOrB,EAAWsB,SA9BT,SAAChB,GACvBL,EAAaK,EAAMiB,OAAOF,aA+BtB,yCACQ,uBAAOA,MAAOxB,EAASyB,SAxClB,SAAChB,GAClBR,EAAWQ,EAAMiB,OAAOF,aAyCpB,2CACU,uBAAOA,MAAOhC,EAAWiC,SAvCpB,SAAChB,GACpBP,EAAaO,EAAMiB,OAAOF,aAyCtB,8BACE,wBAAQG,KAAK,SAAb,sBAGJ,yCACC7B,EAAQ8B,QAAQC,QAAO,SAAAC,GACtB,OAAOA,EAAKjB,KAAKe,MAAM,EAAEzB,EAAU4B,QAAQC,gBAAkB7B,EAAU6B,iBACtEC,KAAI,SAACrB,GACN,OACE,8BACE,+BACG,IACAA,EAAOC,KAFV,IAEiBD,EAAOK,OACtB,wBAAQiB,QAAU,kBArER,SAACtB,GACrBlB,QAAQC,IAAIiB,GACGE,OAAOC,QAAQ,0BAE5BT,EAAcM,EAAOd,GAASf,MAAK,SAAAoD,GACjCpC,EAAWoC,MAgEmBC,CAAcxB,EAAOxB,KAA7C,iCCrFRiD,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OAAO,cAAC,EAAD,IAASJ,K","file":"static/js/main.51522941.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () =>{\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\nconst create = newPerson => {\n    const request = axios.post(baseUrl, newPerson)\n    return request.then(response => response.data)\n}\n\n\nconst remove = (id, allPerson) => {\n    const baseUrl2 = baseUrl + `/${id}`;\n    const request = axios.delete(baseUrl2)\n    const good = getAll();\nreturn good;\n}\n\nconst change = (id, newNumber) => {\n    const baseUrl2 = baseUrl + `/${id}`;\n    const res = axios.patch(baseUrl2, {\"number\": newNumber} )\n    res.then(response => {\n        console.log(response)\n    });\n}\n\nexport default {\n    getAll,\n    create,\n    remove,\n    change\n}","import React, { useEffect, useState } from \"react\";\nimport helper from \"./services/helper\"\n\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\nconst [newName, setNewName] = useState(\"\");\nconst [newNumber, setNewNumber] = useState(\"\");\nconst [newSearch, setNewSearch] = useState(\"\");\n\n  const hook = () => {\n\n    helper.getAll().then((initialPerson)=>{\n      setPersons(initialPerson);\n    });\n  };\n  useEffect(hook, []);\n\n  const buttonHandler = (person) =>{\n    console.log(person);\n    const result = window.confirm(\"Do you wish to delete\");\n    if (result){\n      helper.remove(person,persons).then(goodPersons => {\n        setPersons(goodPersons)\n      })\n    }\n\n  }\n  const handleName = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumber = (event) => {\n    setNewNumber(event.target.value);\n  };\n  const handleNewSearch = (event) => {\n    setNewSearch(event.target.value)\n  };\n  const addName = (event) => {\n    event.preventDefault();\n    if (persons.some((person) => person.name === newName) && window.confirm(`${newName} is already added to phonebook, replace the old number with new one?`)) {\n        helper.change(persons.find(person => person === newName).id, newNumber);\n        console.log(\"working\")\n      }\n     else {\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n        id : Math.floor((1 + Math.random()) * 0x10000)\n        .toString(16)\n        .substring(1)\n      }\n      helper.create(newPerson).then(() =>{\n        setPersons(persons.concat(newPerson))\n      })\n      \n    }\n  };\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <h2>add a new</h2>\n      <form onSubmit={addName}>\n        <div>\n          filter shown with\n          <input value={newSearch} onChange={handleNewSearch} />\n        </div>\n        <div>\n          name: <input value={newName} onChange={handleName} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumber} />\n        </div>\n\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      {persons.slice().filter(item => {\n        return item.name.slice(0,newSearch.length).toLowerCase() === newSearch.toLowerCase()\n      }).map((person) => {\n        return (\n          <div>\n            <p1>\n              {\" \"}\n              {person.name} {person.number}\n              <button onClick= {() => buttonHandler(person.id)}> remove</button>\n            </p1>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}